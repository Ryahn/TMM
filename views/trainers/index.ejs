<% extend('../layout') %>
<!-- Content Header (Page header) -->
<section class="content-header">
    <ol class="breadcrumb">
        <li><a href="/"><i class="fal fa-home"></i></i> Home</a></li>
        <li> Trainers</li>
    </ol>
</section>

<!-- Main content -->
<section class="content">
    <%- messages('partials/messages', locals) %>

    <div class="row">
        <div class="col-md-12">
            <div class="box">
                <div class="box-header">
                    <h3 class="box-title">Trainers List</h3> <button type="button" id="addTrainerButton" class="btn btn-info pull-right addtrainer"
                        data-target="#addTrainerModal">Add Trainer</button>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <table id="trainers" class="table table-bordered table-striped dataTable" role="grid">
                                <thead>
                                    <tr role="row">
                                        <th>Claimed By</th>
                                        <th>Game Title</th>
                                        <th>Platform</th>
                                        <th>Tested By</th>
                                        <th>Completed</th>
                                        <th>Result</th>
                                        <th>Date of Game Check</th>
                                        <th>Game Version</th>
                                        <th>Trainer Version</th>
                                        <th>Forwarded By</th>
                                        <th>Notes</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% trainers.forEach(function(trainer){ %>
                                    <tr role="row" style="text-align: center;">
                                        <td><% if (trainer.username) { %>
                                            <%= trainer.username %>
                                            <% } else { %>
                                            <button class="btn btn-info" type="button">Claim</button>
                                            <% } %></td>
                                        <td><div id="t_name"><%= trainer.game_title %></div></td>
                                        <td><%= trainer.name %></td>
                                        <td><% if (trainer.username) { %>
                                            <%= trainer.username %>
                                            <% } else { %>
                                            <button class="btn btn-info" type="button">Claim</button>
                                            <% } %></td>
                                        <td><% if (trainer.completed) { %>
                                            <i class="fa fa-check"></i>
                                            <% } else { %>
                                                <button class="btn btn-warning" type="button">Mark</button>
                                            <% } %></td>
                                        <td><%= trainer.result %></td>
                                        <td><%= moment(trainer.game_checked).format('DD-MMM-YY') %></td>
                                        <td><%= trainer.game_version %></td>
                                        <td><%= trainer.trainer_version %></td>
                                        <td><%= trainer.forwarded_by %></td>
                                        <td><button class="btn btn-info tnotes" data-gametitle="<%= trainer.game_title %>">Show</button><div id="t_notes"><%= trainer.notes %></div></td>
                                        <td><%= trainer.status %></td>
                                        <td style="width: 190px;"><button class="btn btn-info" type="button">Manage</button> <button class="btn btn-warning" type="button">Edit</button> <button class="btn btn-danger" type="button">Delete</button></td>
                                    </tr>
                                    <% }); %>

                                </tbody>
                                <tfoot>
                                    <tr>
                                        <th>Claimed By</th>
                                        <th>Game Title</th>
                                        <th>Platform</th>
                                        <th>Tested By</th>
                                        <th>Completed</th>
                                        <th>Result</th>
                                        <th>Date of Game Check</th>
                                        <th>Game Version</th>
                                        <th>Trainer Version</th>
                                        <th>Forwarded By</th>
                                        <th>Notes</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
                <% include ../partials/modals/addTrainerModal %>
                <% include ../partials/modals/showTrainerNotes %>
                <!-- /.box-body -->
            </div>
        </div>
    </div>
</section>